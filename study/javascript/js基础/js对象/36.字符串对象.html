<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>字符串对象</title>
</head>

<body>
    <script>
        // 基本包装类型 把简单数据类型包装成了复杂数据类型
        // 1.把简单数据类型包装成复杂数据类型
        var temp = new String("andy");
        // 2.把临时变量的值给你 str
        str = temp;
        // 3.把临时变量销毁
        temp = null;
        // 有三种基本包装类型：String Number Boolean

        // 字符串不可变性
        // 根据字符返回位置 indexOf("要查找的字符",[起始的位置])
        var str = "123123";
        console.log(str.indexOf("2"));
        console.log(str.indexOf("3", 3));

        //  根据位置返回字符
        // charAt(index) 根据位置返回字符
        var str2 = "hello world";
        console.log(str2.charAt(4));
        // 遍历字符串
        for (var i = 0; i < str2.length; i++) {
            console.log(str2.charAt(i));
        }

        // charCodeAt(index) 返回相应索引号的字符ASCII值 目的：判断用户按下了那个键
        console.log(str2.charCodeAt(0));

        // str[index] H5新增
        console.log(str2[1]);

        // 字符串的操作方法
        // 拼接字符串 concat(str1,str2...)
        var color = " red";
        var strs = "I like";
        console.log(strs.concat(color));

        //  substr("截取的起始位置","截取几个字符")
        var str3 = "hello world";
        console.log(str3.substr(2, 2));

        // 替换字符串 replace("被替换的字符","替换成什么")
        console.log(str3.replace("world", "china"));

        // 字符转换为数组 split("分隔符") 
        var str4 = "red,pink,blue";
        console.log(str4.split(","));
        var str5 = "red&pink&blue";
        console.log(str5.split("&"));
        // 课堂案例
        // 返回字符位置 查找字符串"abcoefoxyozzopp"中所有o出现的位置以及次数
        // 先查找第一个o出现的位置 然后在查找从第一个位置后o出现的位置
        var str1 = "abcoefoxyozzopp";
        var num = 0;
        var index = str1.indexOf("o");
        while (index !== -1) {
            console.log(index);
            num++;
            index = str1.indexOf("o", index + 1);
        }
        console.log("o出现的次数" + num);
        // 返回字符位置 判断一个字符串"abcoefoxyozzopp"中出现次数最多的字符 并统计其次数
        // 核心算法 先遍历字符串
        // 把每个字符串都存储给对象 如果对象没有该属性 就是1 如果有该对象 在1的基础上加1
        // 遍历对象 将最大值和该属性取出
        var o = {};
        for (var i = 0; i < str1.length; i++) {
            var chars = str1.charAt(i);
            if (o[chars]) {
                o[chars]++;
            } else {
                o[chars] = 1;
            }

        }
        console.log(o);
        var max = 0;
        var ch = "";
        for (var k in o) {
            if (o[k] > max) {
                max = o[k];
                ch = k;
            }
        }
        console.log("最多的字符是：" + ch);
        console.log(max);


        // 课堂案例 把所有的o替换为*
        var str1 = "abcoefoxyozzopp";
        // str1 = str1.replace("o", "*");
        // console.log(str1);
        // 第一种方法
        /* for (var i = 0; i < str1.length; i++) {
            if (str1.charAt(i) === "o") {
                str1 = str1.replace(str1.charAt(i), "*");
            }
        }
        console.log(str1); */
        while (str1.indexOf("o") !== -1) {
            str1 = str1.replace("o", '*');
        }
        console.log(str1);
    </script>
</body>

</html>